{
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "exec": [
          ""
        ],
        "type": "text/javascript"
      }
    },
    {
      "listen": "test",
      "script": {
        "exec": [
          "// Set response object as internal variable",
          "let jsonData = {};",
          "try {",
          "  jsonData = pm.response.json();",
          "} catch (e) {}",
          "",
          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
          "if (jsonData?.payment_id) {",
          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
          "  console.log(\"[LOG]::payment_id - \" + jsonData.payment_id);",
          "}",
          "",
          "console.log(\"[LOG]::x-request-id - \" + pm.response.headers.get(\"x-request-id\"));",
          ""
        ],
        "type": "text/javascript"
      }
    }
  ],
  "item": [
    {
      "name": "Health check",
      "item": [
        {
          "name": "New Request",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Validate status 2xx",
                  "pm.test(\"[POST]::/accounts - Status code is 2xx\", function () {",
                  "  pm.response.to.be.success;",
                  "});",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "x-feature",
                "value": "router-custom",
                "type": "text",
                "disabled": true
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "health"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Flow Testcases",
      "item": [
        {
          "name": "QuickStart",
          "item": [
            {
              "name": "Merchant Account - Create",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "// Validate status 2xx",
                      "pm.test(\"[POST]::/accounts - Status code is 2xx\", function () {",
                      "  pm.response.to.be.success;",
                      "});",
                      "",
                      "// Validate if response header has matching content-type",
                      "pm.test(\"[POST]::/accounts - Content-Type is application/json\", function () {",
                      "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                      "    \"application/json\",",
                      "  );",
                      "});",
                      "",
                      "// Set response object as internal variable",
                      "let jsonData = {};",
                      "try {",
                      "  jsonData = pm.response.json();",
                      "} catch (e) {}",
                      "",
                      "// pm.collectionVariables - Set merchant_id as variable for jsonData.merchant_id",
                      "if (jsonData?.merchant_id) {",
                      "  pm.collectionVariables.set(\"merchant_id\", jsonData.merchant_id);",
                      "  console.log(",
                      "    \"- use {{merchant_id}} as collection variable for value\",",
                      "    jsonData.merchant_id,",
                      "  );",
                      "} else {",
                      "  console.log(",
                      "    \"INFO - Unable to assign variable {{merchant_id}}, as jsonData.merchant_id is undefined.\",",
                      "  );",
                      "}",
                      "",
                      "// pm.collectionVariables - Set api_key as variable for jsonData.api_key",
                      "if (jsonData?.api_key) {",
                      "  pm.collectionVariables.set(\"api_key\", jsonData.api_key);",
                      "  console.log(",
                      "    \"- use {{api_key}} as collection variable for value\",",
                      "    jsonData.api_key,",
                      "  );",
                      "} else {",
                      "  console.log(",
                      "    \"INFO - Unable to assign variable {{api_key}}, as jsonData.api_key is undefined.\",",
                      "  );",
                      "}",
                      "",
                      "// pm.collectionVariables - Set publishable_key as variable for jsonData.publishable_key",
                      "if (jsonData?.publishable_key) {",
                      "  pm.collectionVariables.set(\"publishable_key\", jsonData.publishable_key);",
                      "  console.log(",
                      "    \"- use {{publishable_key}} as collection variable for value\",",
                      "    jsonData.publishable_key,",
                      "  );",
                      "} else {",
                      "  console.log(",
                      "    \"INFO - Unable to assign variable {{publishable_key}}, as jsonData.publishable_key is undefined.\",",
                      "  );",
                      "}",
                      ""
                    ],
                    "type": "text/javascript"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      ""
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "apikey",
                  "apikey": [
                    {
                      "key": "value",
                      "value": "{{admin_api_key}}",
                      "type": "string"
                    },
                    {
                      "key": "key",
                      "value": "api-key",
                      "type": "string"
                    },
                    {
                      "key": "in",
                      "value": "header",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  },
                  "raw": "{\"merchant_id\":\"postman_merchant_GHAction_{{$guid}}\",\"locker_id\":\"m0010\",\"merchant_name\":\"NewAge Retailer\",\"primary_business_details\":[{\"country\":\"US\",\"business\":\"default\"}],\"merchant_details\":{\"primary_contact_person\":\"John Test\",\"primary_email\":\"JohnTest@test.com\",\"primary_phone\":\"sunt laborum\",\"secondary_contact_person\":\"John Test2\",\"secondary_email\":\"JohnTest2@test.com\",\"secondary_phone\":\"cillum do dolor id\",\"website\":\"www.example.com\",\"about_business\":\"Online Retail with a wide selection of organic products for North America\",\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\"}},\"return_url\":\"https://duck.com\",\"webhook_details\":{\"webhook_version\":\"1.0.1\",\"webhook_username\":\"ekart_retail\",\"webhook_password\":\"password_ekart@123\",\"payment_created_enabled\":true,\"payment_succeeded_enabled\":true,\"payment_failed_enabled\":true},\"sub_merchants_enabled\":false,\"metadata\":{\"city\":\"NY\",\"unit\":\"245\"}}"
                },
                "url": {
                  "raw": "{{baseUrl}}/accounts",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "accounts"
                  ]
                },
                "description": "Create a new account for a merchant. The merchant could be a seller or retailer or client who likes to receive and send payments."
              },
              "response": []
            },
            {
              "name": "API Key - Create",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "// Validate status 2xx",
                      "pm.test(\"[POST]::/api_keys/:merchant_id - Status code is 2xx\", function () {",
                      "  pm.response.to.be.success;",
                      "});",
                      "",
                      "// Validate if response header has matching content-type",
                      "pm.test(",
                      "  \"[POST]::/api_keys/:merchant_id - Content-Type is application/json\",",
                      "  function () {",
                      "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                      "      \"application/json\",",
                      "    );",
                      "  },",
                      ");",
                      "",
                      "// Set response object as internal variable",
                      "let jsonData = {};",
                      "try {",
                      "  jsonData = pm.response.json();",
                      "} catch (e) {}",
                      "",
                      "// pm.collectionVariables - Set api_key_id as variable for jsonData.key_id",
                      "if (jsonData?.key_id) {",
                      "  pm.collectionVariables.set(\"api_key_id\", jsonData.key_id);",
                      "  console.log(",
                      "    \"- use {{api_key_id}} as collection variable for value\",",
                      "    jsonData.key_id,",
                      "  );",
                      "} else {",
                      "  console.log(",
                      "    \"INFO - Unable to assign variable {{api_key_id}}, as jsonData.key_id is undefined.\",",
                      "  );",
                      "}",
                      "",
                      "// pm.collectionVariables - Set api_key as variable for jsonData.api_key",
                      "if (jsonData?.api_key) {",
                      "  pm.collectionVariables.set(\"api_key\", jsonData.api_key);",
                      "  console.log(",
                      "    \"- use {{api_key}} as collection variable for value\",",
                      "    jsonData.api_key,",
                      "  );",
                      "} else {",
                      "  console.log(",
                      "    \"INFO - Unable to assign variable {{api_key}}, as jsonData.api_key is undefined.\",",
                      "  );",
                      "}",
                      ""
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "apikey",
                  "apikey": [
                    {
                      "key": "value",
                      "value": "{{admin_api_key}}",
                      "type": "string"
                    },
                    {
                      "key": "key",
                      "value": "api-key",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\"name\":\"API Key 1\",\"description\":null,\"expiration\":\"2069-09-23T01:02:03.000Z\"}"
                },
                "url": {
                  "raw": "{{baseUrl}}/api_keys/:merchant_id",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "api_keys",
                    ":merchant_id"
                  ],
                  "variable": [
                    {
                      "key": "merchant_id",
                      "value": "{{merchant_id}}"
                    }
                  ]
                }
              },
              "response": []
            },
            {
              "name": "Payment Connector - Create",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "// Validate status 2xx",
                      "pm.test(",
                      "  \"[POST]::/account/:account_id/connectors - Status code is 2xx\",",
                      "  function () {",
                      "    pm.response.to.be.success;",
                      "  },",
                      ");",
                      "",
                      "// Validate if response header has matching content-type",
                      "pm.test(",
                      "  \"[POST]::/account/:account_id/connectors - Content-Type is application/json\",",
                      "  function () {",
                      "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                      "      \"application/json\",",
                      "    );",
                      "  },",
                      ");",
                      "",
                      "// Set response object as internal variable",
                      "let jsonData = {};",
                      "try {",
                      "  jsonData = pm.response.json();",
                      "} catch (e) {}",
                      "",
                      "// pm.collectionVariables - Set merchant_connector_id as variable for jsonData.merchant_connector_id",
                      "if (jsonData?.merchant_connector_id) {",
                      "  pm.collectionVariables.set(",
                      "    \"merchant_connector_id\",",
                      "    jsonData.merchant_connector_id,",
                      "  );",
                      "  console.log(",
                      "    \"- use {{merchant_connector_id}} as collection variable for value\",",
                      "    jsonData.merchant_connector_id,",
                      "  );",
                      "} else {",
                      "  console.log(",
                      "    \"INFO - Unable to assign variable {{merchant_connector_id}}, as jsonData.merchant_connector_id is undefined.\",",
                      "  );",
                      "}",
                      ""
                    ],
                    "type": "text/javascript"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      ""
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "auth": {
                  "type": "apikey",
                  "apikey": [
                    {
                      "key": "value",
                      "value": "{{admin_api_key}}",
                      "type": "string"
                    },
                    {
                      "key": "key",
                      "value": "api-key",
                      "type": "string"
                    },
                    {
                      "key": "in",
                      "value": "header",
                      "type": "string"
                    }
                  ]
                },
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  },
                  "raw": "{\"connector_type\":\"fiz_operations\",\"connector_name\":\"authorizedotnet\",\"connector_account_details\":{\"auth_type\":\"BodyKey\",\"api_key\":\"{{connector_api_key}}\",\"key1\":\"{{connector_key1}}\"},\"test_mode\":false,\"disabled\":false,\"business_country\":\"US\",\"business_label\":\"default\",\"payment_methods_enabled\":[{\"payment_method\":\"card\",\"payment_method_types\":[{\"payment_method_type\":\"credit\",\"card_networks\":[\"Visa\",\"Mastercard\"],\"minimum_amount\":1,\"maximum_amount\":68607706,\"recurring_enabled\":true,\"installment_payment_enabled\":true},{\"payment_method_type\":\"debit\",\"card_networks\":[\"Visa\",\"Mastercard\"],\"minimum_amount\":1,\"maximum_amount\":68607706,\"recurring_enabled\":true,\"installment_payment_enabled\":true}]},{\"payment_method\":\"pay_later\",\"payment_method_types\":[{\"payment_method_type\":\"klarna\",\"payment_experience\":\"redirect_to_url\",\"minimum_amount\":1,\"maximum_amount\":68607706,\"recurring_enabled\":true,\"installment_payment_enabled\":true},{\"payment_method_type\":\"affirm\",\"payment_experience\":\"redirect_to_url\",\"minimum_amount\":1,\"maximum_amount\":68607706,\"recurring_enabled\":true,\"installment_payment_enabled\":true},{\"payment_method_type\":\"afterpay_clearpay\",\"payment_experience\":\"redirect_to_url\",\"minimum_amount\":1,\"maximum_amount\":68607706,\"recurring_enabled\":true,\"installment_payment_enabled\":true}]}],\"metadata\":{\"city\":\"NY\",\"unit\":\"245\"}}"
                },
                "url": {
                  "raw": "{{baseUrl}}/account/:account_id/connectors",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "account",
                    ":account_id",
                    "connectors"
                  ],
                  "variable": [
                    {
                      "key": "account_id",
                      "value": "{{merchant_id}}",
                      "description": "(Required) The unique identifier for the merchant account"
                    }
                  ]
                },
                "description": "Create a new Payment Connector for the merchant account. The connector could be a payment processor / facilitator / acquirer or specialised services like Fraud / Accounting etc."
              },
              "response": []
            },
            {
              "name": "Payments - Create",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "// Validate status 2xx",
                      "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                      "  pm.response.to.be.success;",
                      "});",
                      "",
                      "// Validate if response header has matching content-type",
                      "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                      "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                      "    \"application/json\",",
                      "  );",
                      "});",
                      "",
                      "// Validate if response has JSON Body",
                      "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                      "  pm.response.to.have.jsonBody();",
                      "});",
                      "",
                      "// Set response object as internal variable",
                      "let jsonData = {};",
                      "try {",
                      "  jsonData = pm.response.json();",
                      "} catch (e) {}",
                      "",
                      "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                      "if (jsonData?.payment_id) {",
                      "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                      "  console.log(",
                      "    \"- use {{payment_id}} as collection variable for value\",",
                      "    jsonData.payment_id,",
                      "  );",
                      "} else {",
                      "  console.log(",
                      "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                      "  );",
                      "}",
                      "",
                      "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                      "if (jsonData?.mandate_id) {",
                      "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                      "  console.log(",
                      "    \"- use {{mandate_id}} as collection variable for value\",",
                      "    jsonData.mandate_id,",
                      "  );",
                      "} else {",
                      "  console.log(",
                      "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                      "  );",
                      "}",
                      "",
                      "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                      "if (jsonData?.client_secret) {",
                      "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                      "  console.log(",
                      "    \"- use {{client_secret}} as collection variable for value\",",
                      "    jsonData.client_secret,",
                      "  );",
                      "} else {",
                      "  console.log(",
                      "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                      "  );",
                      "}",
                      ""
                    ],
                    "type": "text/javascript"
                  }
                },
                {
                  "listen": "prerequest",
                  "script": {
                    "exec": [
                      "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                      ""
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": true,\n    \"capture_method\": \"automatic\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": {{random_number}},\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+1\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n    \"payment_method\": \"card\",\n    \"payment_method_data\": {\n        \"card\": {\n            \"card_number\": \"4111111111111111\",\n            \"card_exp_month\": \"10\",\n            \"card_exp_year\": \"25\",\n            \"card_holder_name\": \"joseph Doe\",\n            \"card_cvc\": \"123\"\n        }\n    },\n    \"billing\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  }
                },
                "url": {
                  "raw": "{{baseUrl}}/payments",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "payments"
                  ]
                },
                "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
              },
              "response": []
            },
            {
              "name": "Payments - Retrieve",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "// Validate status 2xx",
                      "pm.test(\"[GET]::/payments/:id - Status code is 2xx\", function () {",
                      "  pm.response.to.be.success;",
                      "});",
                      "",
                      "// Validate if response header has matching content-type",
                      "pm.test(\"[GET]::/payments/:id - Content-Type is application/json\", function () {",
                      "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                      "    \"application/json\",",
                      "  );",
                      "});",
                      "",
                      "// Set response object as internal variable",
                      "let jsonData = {};",
                      "try {",
                      "  jsonData = pm.response.json();",
                      "} catch (e) {}",
                      "",
                      "// Validate if response has JSON Body",
                      "pm.test(\"[GET]::/payments/:id - Response has JSON Body\", function () {",
                      "  pm.response.to.have.jsonBody();",
                      "});",
                      "",
                      "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                      "if (jsonData?.payment_id) {",
                      "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                      "  console.log(",
                      "    \"- use {{payment_id}} as collection variable for value\",",
                      "    jsonData.payment_id,",
                      "  );",
                      "} else {",
                      "  console.log(",
                      "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                      "  );",
                      "}",
                      "",
                      "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                      "if (jsonData?.mandate_id) {",
                      "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                      "  console.log(",
                      "    \"- use {{mandate_id}} as collection variable for value\",",
                      "    jsonData.mandate_id,",
                      "  );",
                      "} else {",
                      "  console.log(",
                      "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                      "  );",
                      "}",
                      "",
                      "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                      "if (jsonData?.client_secret) {",
                      "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                      "  console.log(",
                      "    \"- use {{client_secret}} as collection variable for value\",",
                      "    jsonData.client_secret,",
                      "  );",
                      "} else {",
                      "  console.log(",
                      "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                      "  );",
                      "}",
                      ""
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/payments/:id",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "payments",
                    ":id"
                  ],
                  "variable": [
                    {
                      "key": "id",
                      "value": "{{payment_id}}",
                      "description": "(Required) unique payment id"
                    }
                  ]
                },
                "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
              },
              "response": []
            },
            {
              "name": "Refunds - Create",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "// Validate status 2xx",
                      "pm.test(\"[POST]::/refunds - Status code is 2xx\", function () {",
                      "  pm.response.to.be.error;",
                      "});",
                      "",
                      "// Validate if response header has matching content-type",
                      "pm.test(\"[POST]::/refunds - Content-Type is application/json\", function () {",
                      "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                      "    \"application/json\",",
                      "  );",
                      "});",
                      "",
                      "// Set response object as internal variable",
                      "let jsonData = {};",
                      "try {",
                      "  jsonData = pm.response.json();",
                      "} catch (e) {}",
                      "",
                      "// pm.collectionVariables - Set refund_id as variable for jsonData.payment_id",
                      "if (jsonData?.refund_id) {",
                      "  pm.collectionVariables.set(\"refund_id\", jsonData.refund_id);",
                      "  console.log(",
                      "    \"- use {{refund_id}} as collection variable for value\",",
                      "    jsonData.refund_id,",
                      "  );",
                      "} else {",
                      "  console.log(",
                      "    \"INFO - Unable to assign variable {{refund_id}}, as jsonData.refund_id is undefined.\",",
                      "  );",
                      "}",
                      "",
                      "// Response body should have an error message as we try to refund a \"processing\" payment",
                      "if (jsonData?.error) {",
                      "  pm.test(",
                      "    \"[POST]::/payments - Content check if error type is 'invalid_request'\",",
                      "    function () {",
                      "      pm.expect(jsonData.error.message).to.eql(",
                      "        \"The payment has not succeeded yet. Please pass a successful payment to initiate refund\",",
                      "      );",
                      "    },",
                      "  );",
                      "}",
                      ""
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "options": {
                    "raw": {
                      "language": "json"
                    }
                  },
                  "raw": "{\"payment_id\":\"{{payment_id}}\",\"amount\":600,\"reason\":\"Customer returned product\",\"refund_type\":\"instant\",\"metadata\":{\"udf1\":\"value1\",\"new_customer\":\"true\",\"login_date\":\"2019-09-10T10:11:12Z\"}}"
                },
                "url": {
                  "raw": "{{baseUrl}}/refunds",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "refunds"
                  ]
                },
                "description": "To create a refund against an already processed payment"
              },
              "response": []
            },
            {
              "name": "Refunds - Retrieve",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "exec": [
                      "// Validate status 2xx",
                      "pm.test(\"[POST]::/refunds - Status code is 2xx\", function () {",
                      "  pm.response.to.be.error;",
                      "});",
                      "",
                      "// Validate if response header has matching content-type",
                      "pm.test(\"[POST]::/refunds - Content-Type is application/json\", function () {",
                      "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                      "    \"application/json\",",
                      "  );",
                      "});",
                      "",
                      "// Set response object as internal variable",
                      "let jsonData = {};",
                      "try {",
                      "  jsonData = pm.response.json();",
                      "} catch (e) {}",
                      "",
                      "// pm.collectionVariables - Set refund_id as variable for jsonData.payment_id",
                      "if (jsonData?.refund_id) {",
                      "  pm.collectionVariables.set(\"refund_id\", jsonData.refund_id);",
                      "  console.log(",
                      "    \"- use {{refund_id}} as collection variable for value\",",
                      "    jsonData.refund_id,",
                      "  );",
                      "} else {",
                      "  console.log(",
                      "    \"INFO - Unable to assign variable {{refund_id}}, as jsonData.refund_id is undefined.\",",
                      "  );",
                      "}",
                      "",
                      "// Response body should have an error message as we try to retrieve refund that doesn't exist",
                      "if (jsonData?.error) {",
                      "  pm.test(",
                      "    \"[POST]::/payments - Content check if error type is 'invalid_request'\",",
                      "    function () {",
                      "      pm.expect(jsonData.error.message).to.eql(\"Unrecognized request URL\");",
                      "    },",
                      "  );",
                      "}",
                      ""
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "GET",
                "header": [
                  {
                    "key": "Accept",
                    "value": "application/json"
                  }
                ],
                "url": {
                  "raw": "{{baseUrl}}/refunds/:id",
                  "host": [
                    "{{baseUrl}}"
                  ],
                  "path": [
                    "refunds",
                    ":id"
                  ],
                  "variable": [
                    {
                      "key": "id",
                      "value": "{{refund_id}}",
                      "description": "(Required) unique refund id"
                    }
                  ]
                },
                "description": "To retrieve the properties of a Refund. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
              },
              "response": []
            }
          ]
        },
        {
          "name": "Happy Cases",
          "item": [
            {
              "name": "Scenario4-Create failed payment with confirm true copy",
              "item": [
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"error_code\"",
                          "if (jsonData?.error_code) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'error_code' matches '3' or '11' \",",
                          "    function () {",
                          "      pm.expect(jsonData.error_code).to.be.oneOf([\"3\", \"11\"]);",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.error_message) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'error_message' matches 'processing' or 'This transaction has been declined.' \",",
                          "    function () {",
                          "      pm.expect(jsonData.error_message).to.be.oneOf([\"A duplicate transaction has been submitted.\", \"This transaction has been declined.\"]);",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"amount\":7003,\"currency\":\"USD\",\"confirm\":true,\"routing\":{\"data\":\"authorizedotnet\",\"type\":\"single\"},\"capture_method\":\"automatic\",\"capture_on\":\"2022-09-10T10:11:12Z\",\"customer_id\":\"StripeCustomer\",\"email\":\"guest@example.com\",\"name\":\"John Doe\",\"phone\":\"999999999\",\"phone_country_code\":\"+65\",\"description\":\"Its my first payment request\",\"authentication_type\":\"no_three_ds\",\"return_url\":\"https://duck.com\",\"payment_method\":\"card\",\"payment_method_data\":{\"card\":{\"card_number\":\"370000000000002\",\"card_exp_month\":\"10\",\"card_exp_year\":\"25\",\"card_holder_name\":\"joseph Doe\",\"card_cvc\":\"900\"}},\"billing\":{\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\",\"first_name\":\"PiX\"}},\"shipping\":{\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\",\"first_name\":\"PiX\"}},\"statement_descriptor_name\":\"joseph\",\"statement_descriptor_suffix\":\"JS\",\"metadata\":{\"udf1\":\"value1\",\"new_customer\":\"true\",\"login_date\":\"2019-09-10T10:11:12Z\"}}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Scenario1-Create payment with confirm true",
              "item": [
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": true,\n    \"capture_method\": \"automatic\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": {{random_number}},\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+65\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n    \"payment_method\": \"card\",\n    \"payment_method_data\": {\n        \"card\": {\n            \"card_number\": \"370000000000002\",\n            \"card_exp_month\": \"10\",\n            \"card_exp_year\": \"25\",\n            \"card_holder_name\": \"joseph Doe\",\n            \"card_cvc\": \"900\"\n        }\n    },\n    \"billing\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Scenario2-Create payment with confirm false",
              "item": [
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" or \"requires_confirmation\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' or 'requires_confirmation'\",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([",
                          "        \"processing\",",
                          "        \"requires_confirmation\",",
                          "        \"failed\",",
                          "      ]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": false,\n    \"capture_method\": \"automatic\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": {{random_number}},\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+65\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n    \"payment_method\": \"card\",\n    \"payment_method_data\": {\n        \"card\": {\n            \"card_number\": \"4111111111111111\",\n            \"card_exp_month\": \"10\",\n            \"card_exp_year\": \"25\",\n            \"card_holder_name\": \"joseph Doe\",\n            \"card_cvc\": \"123\"\n        }\n    },\n     \"billing\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Confirm",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "apikey",
                      "apikey": [
                        {
                          "key": "value",
                          "value": "{{publishable_key}}",
                          "type": "string"
                        },
                        {
                          "key": "key",
                          "value": "api-key",
                          "type": "string"
                        },
                        {
                          "key": "in",
                          "value": "header",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"client_secret\":\"{{client_secret}}\"}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id/confirm",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id",
                        "confirm"
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "This API is to confirm the payment request and forward payment to the payment processor. This API provides more granular control upon when the API is forwarded to the payment processor. Alternatively you can confirm the payment within the Payments-Create API"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Scenario3-Create payment without PMD",
              "item": [
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"requires_payment_method\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'requires_payment_method'\",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.eql(\"requires_payment_method\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": false,\n    \"capture_method\": \"automatic\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": {{random_number}},\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+65\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n     \"billing\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Confirm",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "apikey",
                      "apikey": [
                        {
                          "key": "value",
                          "value": "{{publishable_key}}",
                          "type": "string"
                        },
                        {
                          "key": "key",
                          "value": "api-key",
                          "type": "string"
                        },
                        {
                          "key": "in",
                          "value": "header",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"client_secret\":\"{{client_secret}}\",\"payment_method\":\"card\",\"payment_method_data\":{\"card\":{\"card_number\":\"4111111111111111\",\"card_exp_month\":\"10\",\"card_exp_year\":\"25\",\"card_holder_name\":\"joseph Doe\",\"card_cvc\":\"123\"}}}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id/confirm",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id",
                        "confirm"
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "This API is to confirm the payment request and forward payment to the payment processor. This API provides more granular control upon when the API is forwarded to the payment processor. Alternatively you can confirm the payment within the Payments-Create API"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                }
              ]
            }
          ]
        },
        {
          "name": "Variation Cases",
          "item": [
            {
              "name": "Scenario12-Failed case for wrong api keys",
              "item": [
                {
                  "name": "Payment Connector - Update",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(",
                          "  \"[POST]::/account/:account_id/connectors - Status code is 2xx\",",
                          "  function () {",
                          "    pm.response.to.be.success;",
                          "  },",
                          ");",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(",
                          "  \"[POST]::/account/:account_id/connectors - Content-Type is application/json\",",
                          "  function () {",
                          "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "      \"application/json\",",
                          "    );",
                          "  },",
                          ");",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set merchant_connector_id as variable for jsonData.merchant_connector_id",
                          "if (jsonData?.merchant_connector_id) {",
                          "  pm.collectionVariables.set(",
                          "    \"merchant_connector_id\",",
                          "    jsonData.merchant_connector_id,",
                          "  );",
                          "  console.log(",
                          "    \"- use {{merchant_connector_id}} as collection variable for value\",",
                          "    jsonData.merchant_connector_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{merchant_connector_id}}, as jsonData.merchant_connector_id is undefined.\",",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "apikey",
                      "apikey": [
                        {
                          "key": "value",
                          "value": "{{admin_api_key}}",
                          "type": "string"
                        },
                        {
                          "key": "key",
                          "value": "api-key",
                          "type": "string"
                        },
                        {
                          "key": "in",
                          "value": "header",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"connector_type\":\"fiz_operations\",\"connector_account_details\":{\"auth_type\":\"BodyKey\",\"api_key\":\"{{connector_api_key}}\",\"key1\":\"authorizedot\"}}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/account/:account_id/connectors/:connector_id",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "account",
                        ":account_id",
                        "connectors",
                        ":connector_id"
                      ],
                      "variable": [
                        {
                          "key": "account_id",
                          "value": "{{merchant_id}}",
                          "description": "(Required) The unique identifier for the merchant account"
                        },
                        {
                          "key": "connector_id",
                          "value": "{{merchant_connector_id}}",
                          "description": "(Required) The unique identifier for the merchant connector account"
                        }
                      ]
                    },
                    "description": "Create a new Payment Connector for the merchant account. The connector could be a payment processor / facilitator / acquirer or specialised services like Fraud / Accounting etc."
                  },
                  "response": []
                },
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[GET]::/payments/:id - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[GET]::/payments/:id - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[GET]::/payments/:id - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"error_code\"",
                          "if (jsonData?.error_code) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'error_code' matches 'E00007' or '11' \",",
                          "    function () {",
                          "      pm.expect(jsonData.error_code).to.be.oneOf([\"E00007\", \"11\"]);",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.error_message) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'error_message' matches 'processing' or 'This transaction has been declined.' \",",
                          "    function () {",
                          "      pm.expect(jsonData.error_message).to.be.oneOf([\"A duplicate transaction has been submitted.\", \"User authentication failed due to invalid authentication values.\"]);",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"amount\":7003,\"currency\":\"USD\",\"confirm\":true,\"routing\":{\"data\":\"authorizedotnet\",\"type\":\"single\"},\"capture_method\":\"automatic\",\"capture_on\":\"2022-09-10T10:11:12Z\",\"customer_id\":\"StripeCustomer\",\"email\":\"guest@example.com\",\"name\":\"John Doe\",\"phone\":\"999999999\",\"phone_country_code\":\"+65\",\"description\":\"Its my first payment request\",\"authentication_type\":\"no_three_ds\",\"return_url\":\"https://duck.com\",\"payment_method\":\"card\",\"payment_method_data\":{\"card\":{\"card_number\":\"370000000000002\",\"card_exp_month\":\"10\",\"card_exp_year\":\"25\",\"card_holder_name\":\"joseph Doe\",\"card_cvc\":\"900\"}},\"billing\":{\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\",\"first_name\":\"PiX\"}},\"shipping\":{\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\",\"first_name\":\"PiX\"}},\"statement_descriptor_name\":\"joseph\",\"statement_descriptor_suffix\":\"JS\",\"metadata\":{\"udf1\":\"value1\",\"new_customer\":\"true\",\"login_date\":\"2019-09-10T10:11:12Z\"}}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Scenario1-Create payment with Invalid card details",
              "item": [
                {
                  "name": "Payments - Create(Invalid card number)",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          "",
                          "// Validate status 4xx",
                          "pm.test(\"[POST]::/payments - Status code is 4xx\", function () {",
                          "  pm.response.to.be.error;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"error\"",
                          "pm.test(\"[POST]::/payments - Content check if 'error' exists\", function () {",
                          "  pm.expect(typeof jsonData.error !== \"undefined\").to.be.true;",
                          "});",
                          "",
                          "// Response body should have value \"connector error\" for \"error type\"",
                          "if (jsonData?.error?.type) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'error.type' matches 'connector_error'\",",
                          "    function () {",
                          "      pm.expect(jsonData.error.type).to.eql(\"connector_error\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": true,\n    \"capture_method\": \"automatic\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": {{random_number}},\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+65\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n    \"payment_method\": \"card\",\n    \"payment_method_data\": {\n        \"card\": {\n            \"card_number\": \"123456\",\n            \"card_exp_month\": \"10\",\n            \"card_exp_year\": \"25\",\n            \"card_holder_name\": \"joseph Doe\",\n            \"card_cvc\": \"123\"\n        }\n    },\n     \"billing\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"united states\"\n        }\n    },\n    \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"united states\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Create(Invalid Exp month)",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 4xx",
                          "pm.test(\"[POST]::/payments - Status code is 4xx\", function () {",
                          "  pm.response.to.be.error;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"next_action.redirect_to_url\"",
                          "pm.test(\"[POST]::/payments - Content check if 'error' exists\", function () {",
                          "  pm.expect(typeof jsonData.error !== \"undefined\").to.be.true;",
                          "});",
                          "",
                          "// Response body should have value \"connector error\" for \"error type\"",
                          "if (jsonData?.error?.type) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'error.type' matches 'invalid_request'\",",
                          "    function () {",
                          "      pm.expect(jsonData.error.type).to.eql(\"invalid_request\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": true,\n    \"capture_method\": \"automatic\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": {{random_number}},\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+65\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n    \"payment_method\": \"card\",\n    \"payment_method_data\": {\n        \"card\": {\n            \"card_number\": \"4111111111111111\",\n            \"card_exp_month\": \"01\",\n            \"card_exp_year\": \"2023\",\n            \"card_holder_name\": \"joseph Doe\",\n            \"card_cvc\": \"123\"\n        }\n    },\n    \"billing\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Create(Invalid Exp Year)",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 4xx",
                          "pm.test(\"[POST]::/payments - Status code is 4xx\", function () {",
                          "  pm.response.to.be.error;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"next_action.redirect_to_url\"",
                          "pm.test(\"[POST]::/payments - Content check if 'error' exists\", function () {",
                          "  pm.expect(typeof jsonData.error !== \"undefined\").to.be.true;",
                          "});",
                          "",
                          "// Response body should have value \"connector error\" for \"error type\"",
                          "if (jsonData?.error?.type) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'error.type' matches 'invalid_request'\",",
                          "    function () {",
                          "      pm.expect(jsonData.error.type).to.eql(\"invalid_request\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": true,\n    \"capture_method\": \"automatic\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": {{random_number}},\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+65\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n    \"payment_method\": \"card\",\n    \"payment_method_data\": {\n        \"card\": {\n            \"card_number\": \"4111111111111111\",\n            \"card_exp_month\": \"10\",\n            \"card_exp_year\": \"2022\",\n            \"card_holder_name\": \"joseph Doe\",\n            \"card_cvc\": \"123\"\n        }\n    },\n     \"billing\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Create(invalid CVV)",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 4xx",
                          "pm.test(\"[POST]::/payments - Status code is 4xx\", function () {",
                          "  pm.response.to.be.error;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"error\"",
                          "pm.test(\"[POST]::/payments - Content check if 'error' exists\", function () {",
                          "  pm.expect(typeof jsonData.error !== \"undefined\").to.be.true;",
                          "});",
                          "",
                          "// Response body should have value \"connector error\" for \"error type\"",
                          "if (jsonData?.error?.type) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'error.type' matches 'connector'\",",
                          "    function () {",
                          "      pm.expect(jsonData.error.type).to.eql(\"connector\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": true,\n    \"capture_method\": \"automatic\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": {{random_number}},\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+65\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n    \"payment_method\": \"card\",\n    \"payment_method_data\": {\n        \"card\": {\n            \"card_number\": \"123456\",\n            \"card_exp_month\": \"10\",\n            \"card_exp_year\": \"25\",\n            \"card_holder_name\": \"joseph Doe\",\n            \"card_cvc\": \"12345\"\n        }\n    },\n      \"billing\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Scenario2-Create payment with Manual capture",
              "item": [
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"amount\", pm.response.json().amount);",
                          "",
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\"  or \"requires_capturefor\" status",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'requires_capture'\",",
                          "    function () {",
                          "      pm.collectionVariables.set(\"variable_key\", \"variable_value\");",
                          "      pm.expect(jsonData.status).to.be.oneOf([",
                          "        \"processing\",",
                          "        \"requires_capture\",",
                          "      ]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": true,\n    \"capture_method\": \"manual\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": {{random_number}},\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+65\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n    \"payment_method\": \"card\",\n    \"payment_method_data\": {\n        \"card\": {\n            \"card_number\": \"4111111111111111\",\n            \"card_exp_month\": \"10\",\n            \"card_exp_year\": \"25\",\n            \"card_holder_name\": \"joseph Doe\",\n            \"card_cvc\": \"123\"\n        }\n    },\n     \"billing\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\"  or \"requires_capturefor\" status",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'requires_capture'\",",
                          "    function () {",
                          "      pm.collectionVariables.set(\"variable_key\", \"variable_value\");",
                          "      pm.expect(jsonData.status).to.be.oneOf([",
                          "        \"processing\",",
                          "        \"requires_capture\",",
                          "      ]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Capture",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Get the value of 'amount' from the environment",
                          "const amount = pm.environment.get(\"amount\");",
                          "",
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments/:id/capture - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(",
                          "  \"[POST]::/payments/:id/capture - Content-Type is application/json\",",
                          "  function () {",
                          "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "      \"application/json\",",
                          "    );",
                          "  },",
                          ");",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments/:id/capture - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"succeeded\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]:://payments/:id/capture - Content check if value for 'status' matches 'processing'\",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.eql(\"processing\");",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"{{amount}}\" for \"amount\"",
                          "if (jsonData?.amount) {",
                          "  pm.test(",
                          "    \"[post]:://payments/:id/capture - Content check if value for 'amount' matches '{{amount}}'\",",
                          "    function () {",
                          "      pm.expect(jsonData.amount).to.eql(amount);",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"{{amount}}\" for \"amount_received\"",
                          "if (jsonData?.amount_received) {",
                          "  pm.test(",
                          "    \"[POST]::/payments:id/capture - Content check if value for 'amount_received' matches '{{amount}}'\",",
                          "    function () {",
                          "      pm.expect(jsonData.amount_received).to.eql(amount);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"amount_to_capture\": {{amount}},\n  \"statement_descriptor_name\": \"Joseph\",\n  \"statement_descriptor_suffix\": \"JS\"\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id/capture?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id",
                        "capture"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To capture the funds for an uncaptured payment"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve-copy",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Scenario3-Confirming the payment without PMD",
              "item": [
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"requires_payment_method\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'requires_payment_method'\",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.eql(\"requires_payment_method\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": false,\n    \"capture_method\": \"automatic\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": {{random_number}},\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+65\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n    \"billing\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Confirm",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 4xx",
                          "pm.test(\"[POST]::/payments - Status code is 4xx\", function () {",
                          "  pm.response.to.be.error;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(",
                          "  \"[POST]::/payments/:id/confirm - Content-Type is application/json\",",
                          "  function () {",
                          "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "      \"application/json\",",
                          "    );",
                          "  },",
                          ");",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments/:id/confirm - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"error\"",
                          "pm.test(",
                          "  \"[POST]::/payments/:id/confirm - Content check if 'error' exists\",",
                          "  function () {",
                          "    pm.expect(typeof jsonData.error !== \"undefined\").to.be.true;",
                          "  },",
                          ");",
                          "",
                          "// Response body should have value \"connector error\" for \"error type\"",
                          "if (jsonData?.error?.type) {",
                          "  pm.test(",
                          "    \"[POST]::/payments/:id/confirm - Content check if value for 'error.type' matches 'invalid_request'\",",
                          "    function () {",
                          "      pm.expect(jsonData.error.type).to.eql(\"invalid_request\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "auth": {
                      "type": "apikey",
                      "apikey": [
                        {
                          "key": "value",
                          "value": "{{publishable_key}}",
                          "type": "string"
                        },
                        {
                          "key": "key",
                          "value": "api-key",
                          "type": "string"
                        },
                        {
                          "key": "in",
                          "value": "header",
                          "type": "string"
                        }
                      ]
                    },
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"client_secret\":\"{{client_secret}}\"}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id/confirm",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id",
                        "confirm"
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "This API is to confirm the payment request and forward payment to the payment processor. This API provides more granular control upon when the API is forwarded to the payment processor. Alternatively you can confirm the payment within the Payments-Create API"
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Scenario4-Void the payment",
              "item": [
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          "",
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\"  or \"requires_capturefor\" status",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'requires_capture'\",",
                          "    function () {",
                          "      pm.collectionVariables.set(\"variable_key\", \"variable_value\");",
                          "      pm.expect(jsonData.status).to.be.oneOf([",
                          "        \"processing\",",
                          "        \"requires_capture\",",
                          "      ]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": true,\n    \"capture_method\": \"manual\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": {{random_number}},\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+65\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n    \"payment_method\": \"card\",\n    \"payment_method_data\": {\n        \"card\": {\n            \"card_number\": \"4111111111111111\",\n            \"card_exp_month\": \"10\",\n            \"card_exp_year\": \"25\",\n            \"card_holder_name\": \"joseph Doe\",\n            \"card_cvc\": \"123\"\n        }\n    },\n      \"billing\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\"  or \"requires_capturefor\" status",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'requires_capture'\",",
                          "    function () {",
                          "      pm.collectionVariables.set(\"variable_key\", \"variable_value\");",
                          "      pm.expect(jsonData.status).to.be.oneOf([",
                          "        \"processing\",",
                          "        \"requires_capture\",",
                          "      ]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Cancel",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx or 4xx",
                          "pm.test(\"[POST]::/payments/:id/capture - Status code is 2xx\", function () {",
                          "  pm.expect(pm.response.code).to.be.oneOf([200, 400]);",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(",
                          "  \"[POST]::/payments/:id/cancel - Content-Type is application/json\",",
                          "  function () {",
                          "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "      \"application/json\",",
                          "    );",
                          "  },",
                          ");",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments/:id/cancel - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"cancelled\"]);",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have an error message as we try to capture a \"processing\" payment",
                          "if (jsonData?.error) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if error type is 'invalid_request'\",",
                          "    function () {",
                          "      pm.expect(jsonData.error.message).to.be.oneOf([",
                          "        \"You cannot cancelled this payment because it has status processing\",",
                          "        \"You cannot cancelled this payment because it has status failed\",",
                          "      ]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"cancellation_reason\":\"requested_by_customer\"}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id/cancel",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id",
                        "cancel"
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "A Payment could can be cancelled when it is in one of these statuses: requires_payment_method, requires_capture, requires_confirmation, requires_customer_action"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve-copy",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[GET]::/payments/:id - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[GET]::/payments/:id - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[GET]::/payments/:id - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"cancelled\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Scenario5-Capture the succeeded payment",
              "item": [
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          "",
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\"  or \"requires_capturefor\" status",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'requires_capture'\",",
                          "    function () {",
                          "      pm.collectionVariables.set(\"variable_key\", \"variable_value\");",
                          "      pm.expect(jsonData.status).to.be.oneOf([",
                          "        \"processing\",",
                          "        \"requires_capture\",",
                          "      ]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": true,\n    \"capture_method\": \"automatic\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": {{random_number}},\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+65\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n    \"payment_method\": \"card\",\n    \"payment_method_data\": {\n        \"card\": {\n            \"card_number\": \"4111111111111111\",\n            \"card_exp_month\": \"10\",\n            \"card_exp_year\": \"25\",\n            \"card_holder_name\": \"joseph Doe\",\n            \"card_cvc\": \"123\"\n        }\n    },\n     \"billing\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\"  or \"requires_capturefor\" status",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'requires_capture'\",",
                          "    function () {",
                          "      pm.collectionVariables.set(\"variable_key\", \"variable_value\");",
                          "      pm.expect(jsonData.status).to.be.oneOf([",
                          "        \"processing\",",
                          "        \"requires_capture\",",
                          "      ]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Capture",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 4xx",
                          "pm.test(\"[POST]::/payments/:id/capture - Status code is 4xx\", function () {",
                          "  pm.response.to.be.error;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(",
                          "  \"[POST]::/payments/:id/capture - Content-Type is application/json\",",
                          "  function () {",
                          "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "      \"application/json\",",
                          "    );",
                          "  },",
                          ");",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments/:id/capture - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"error\"",
                          "pm.test(",
                          "  \"[POST]::/payments/:id/confirm - Content check if 'error' exists\",",
                          "  function () {",
                          "    pm.expect(typeof jsonData.error !== \"undefined\").to.be.true;",
                          "  },",
                          ");",
                          "",
                          "// Response body should have value \"connector error\" for \"error type\"",
                          "if (jsonData?.error?.type) {",
                          "  pm.test(",
                          "    \"[POST]::/payments/:id/confirm - Content check if value for 'error.type' matches 'invalid_request'\",",
                          "    function () {",
                          "      pm.expect(jsonData.error.type).to.eql(\"invalid_request\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"amount_to_capture\":7000,\"statement_descriptor_name\":\"Joseph\",\"statement_descriptor_suffix\":\"JS\"}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id/capture",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id",
                        "capture"
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To capture the funds for an uncaptured payment"
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Scenario6-Capture greater amount",
              "item": [
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(100, 100000));",
                          "",
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"requires_capture\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing'\",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.eql(\"processing\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": true,\n    \"capture_method\": \"manual\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": {{random_number}},\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+65\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n    \"payment_method\": \"card\",\n    \"payment_method_data\": {\n        \"card\": {\n            \"card_number\": \"4111111111111111\",\n            \"card_exp_month\": \"10\",\n            \"card_exp_year\": \"25\",\n            \"card_holder_name\": \"joseph Doe\",\n            \"card_cvc\": \"123\"\n        }\n    },\n      \"billing\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[GET]::/payments/:id - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[GET]::/payments/:id - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[GET]::/payments/:id - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"requires_capture\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'requires_capture'\",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.eql(\"requires_capture\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Capture",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Get the value of 'amount' from the environment",
                          "const capture_amount = parseInt(pm.environment.get(\"amount\")) + 1000;",
                          "",
                          "// Validate status 4xx",
                          "pm.test(\"[POST]::/payments/:id/capture - Status code is 4xx\", function () {",
                          "  pm.response.to.be.error;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(",
                          "  \"[POST]::/payments/:id/capture - Content-Type is application/json\",",
                          "  function () {",
                          "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "      \"application/json\",",
                          "    );",
                          "  },",
                          ");",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments/:id/capture - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"error\"",
                          "pm.test(",
                          "  \"[POST]::/payments/:id/confirm - Content check if 'error' exists\",",
                          "  function () {",
                          "    pm.expect(typeof jsonData.error !== \"undefined\").to.be.true;",
                          "  },",
                          ");",
                          "",
                          "// Response body should have value \"connector error\" for \"error type\"",
                          "if (jsonData?.error?.type) {",
                          "  pm.test(",
                          "    \"[POST]::/payments/:id/confirm - Content check if value for 'error.type' matches 'invalid_request'\",",
                          "    function () {",
                          "      pm.expect(jsonData.error.type).to.eql(\"invalid_request\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n  \"amount_to_capture\": {{capture_amount}},\n  \"statement_descriptor_name\": \"Joseph\",\n  \"statement_descriptor_suffix\": \"JS\"\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id/capture",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id",
                        "capture"
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To capture the funds for an uncaptured payment"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve-copy",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[GET]::/payments/:id - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[GET]::/payments/:id - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[GET]::/payments/:id - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"requires_capture\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'requires_capture'\",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.eql(\"requires_capture\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Scenario7-Void the success_slash_failure payment",
              "item": [
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"amount\":6540,\"currency\":\"USD\",\"confirm\":true,\"capture_method\":\"automatic\",\"capture_on\":\"2022-09-10T10:11:12Z\",\"amount_to_capture\":6540,\"customer_id\":\"StripeCustomer\",\"email\":\"guest@example.com\",\"name\":\"John Doe\",\"phone\":\"999999999\",\"phone_country_code\":\"+65\",\"description\":\"Its my first payment request\",\"authentication_type\":\"no_three_ds\",\"return_url\":\"https://duck.com\",\"payment_method\":\"card\",\"payment_method_data\":{\"card\":{\"card_number\":\"4111111111111111\",\"card_exp_month\":\"10\",\"card_exp_year\":\"25\",\"card_holder_name\":\"joseph Doe\",\"card_cvc\":\"123\"}},\"billing\":{\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\",\"first_name\":\"PiX\"}},\"shipping\":{\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\",\"first_name\":\"PiX\"}},\"statement_descriptor_name\":\"joseph\",\"statement_descriptor_suffix\":\"JS\",\"metadata\":{\"udf1\":\"value1\",\"new_customer\":\"true\",\"login_date\":\"2019-09-10T10:11:12Z\"}}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Cancel",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 4xx",
                          "pm.test(\"[POST]::/payments/:id/cancel - Status code is 4xx\", function () {",
                          "  pm.response.to.be.error;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(",
                          "  \"[POST]::/payments/:id/cancel - Content-Type is application/json\",",
                          "  function () {",
                          "    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "      \"application/json\",",
                          "    );",
                          "  },",
                          ");",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments/:id/cancel - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"error\"",
                          "pm.test(",
                          "  \"[POST]::/payments/:id/confirm - Content check if 'error' exists\",",
                          "  function () {",
                          "    pm.expect(typeof jsonData.error !== \"undefined\").to.be.true;",
                          "  },",
                          ");",
                          "",
                          "// Response body should have value \"connector error\" for \"error type\"",
                          "if (jsonData?.error?.type) {",
                          "  pm.test(",
                          "    \"[POST]::/payments/:id/confirm - Content check if value for 'error.type' matches 'invalid_request'\",",
                          "    function () {",
                          "      pm.expect(jsonData.error.type).to.eql(\"invalid_request\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"cancellation_reason\":\"requested_by_customer\"}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id/cancel",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id",
                        "cancel"
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "A Payment could can be cancelled when it is in one of these statuses: requires_payment_method, requires_capture, requires_confirmation, requires_customer_action"
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Scenario8-Refund full payment Copy",
              "item": [
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"amount\":6540,\"currency\":\"USD\",\"confirm\":true,\"capture_method\":\"automatic\",\"capture_on\":\"2022-09-10T10:11:12Z\",\"amount_to_capture\":6540,\"customer_id\":\"StripeCustomer\",\"email\":\"guest@example.com\",\"name\":\"John Doe\",\"phone\":\"999999999\",\"phone_country_code\":\"+65\",\"description\":\"Its my first payment request\",\"authentication_type\":\"no_three_ds\",\"return_url\":\"https://duck.com\",\"payment_method\":\"card\",\"payment_method_data\":{\"card\":{\"card_number\":\"4111111111111111\",\"card_exp_month\":\"10\",\"card_exp_year\":\"25\",\"card_holder_name\":\"joseph Doe\",\"card_cvc\":\"123\"}},\"billing\":{\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\",\"first_name\":\"PiX\"}},\"shipping\":{\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\",\"first_name\":\"PiX\"}},\"statement_descriptor_name\":\"joseph\",\"statement_descriptor_suffix\":\"JS\",\"metadata\":{\"udf1\":\"value1\",\"new_customer\":\"true\",\"login_date\":\"2019-09-10T10:11:12Z\"}}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                },
                {
                  "name": "Refunds - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/refunds - Status code is 2xx\", function () {",
                          "  pm.response.to.be.error;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/refunds - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set refund_id as variable for jsonData.payment_id",
                          "if (jsonData?.refund_id) {",
                          "  pm.collectionVariables.set(\"refund_id\", jsonData.refund_id);",
                          "  console.log(",
                          "    \"- use {{refund_id}} as collection variable for value\",",
                          "    jsonData.refund_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{refund_id}}, as jsonData.refund_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have an error message as we try to refund a \"processing\" payment",
                          "if (jsonData?.error) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if error type is 'invalid_request'\",",
                          "    function () {",
                          "      pm.expect(jsonData.error.message).to.eql(",
                          "        \"The payment has not succeeded yet. Please pass a successful payment to initiate refund\",",
                          "      );",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"payment_id\":\"{{payment_id}}\",\"amount\":6540,\"reason\":\"Customer returned product\",\"refund_type\":\"instant\",\"metadata\":{\"udf1\":\"value1\",\"new_customer\":\"true\",\"login_date\":\"2019-09-10T10:11:12Z\"}}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/refunds",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "refunds"
                      ]
                    },
                    "description": "To create a refund against an already processed payment"
                  },
                  "response": []
                },
                {
                  "name": "Refunds - Retrieve",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/refunds - Status code is 2xx\", function () {",
                          "  pm.response.to.be.error;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/refunds - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set refund_id as variable for jsonData.payment_id",
                          "if (jsonData?.refund_id) {",
                          "  pm.collectionVariables.set(\"refund_id\", jsonData.refund_id);",
                          "  console.log(",
                          "    \"- use {{refund_id}} as collection variable for value\",",
                          "    jsonData.refund_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{refund_id}}, as jsonData.refund_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have an error message as we try to retrieve refund that doesn't exist",
                          "if (jsonData?.error) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if error type is 'invalid_request'\",",
                          "    function () {",
                          "      pm.expect(jsonData.error.message).to.eql(\"Unrecognized request URL\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/refunds/:id",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "refunds",
                        ":id"
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{refund_id}}",
                          "description": "(Required) unique refund id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Refund. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Scenario9-Refund exceeds amount",
              "item": [
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"amount\":6540,\"currency\":\"USD\",\"confirm\":true,\"capture_method\":\"automatic\",\"capture_on\":\"2022-09-10T10:11:12Z\",\"amount_to_capture\":6540,\"customer_id\":\"StripeCustomer\",\"email\":\"guest@example.com\",\"name\":\"John Doe\",\"phone\":\"999999999\",\"phone_country_code\":\"+65\",\"description\":\"Its my first payment request\",\"authentication_type\":\"no_three_ds\",\"return_url\":\"https://duck.com\",\"payment_method\":\"card\",\"payment_method_data\":{\"card\":{\"card_number\":\"4111111111111111\",\"card_exp_month\":\"10\",\"card_exp_year\":\"25\",\"card_holder_name\":\"joseph Doe\",\"card_cvc\":\"123\"}},\"billing\":{\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\",\"first_name\":\"PiX\"}},\"shipping\":{\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\",\"first_name\":\"PiX\"}},\"statement_descriptor_name\":\"joseph\",\"statement_descriptor_suffix\":\"JS\",\"metadata\":{\"udf1\":\"value1\",\"new_customer\":\"true\",\"login_date\":\"2019-09-10T10:11:12Z\"}}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[POST]::/payments - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                },
                {
                  "name": "Refunds - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 4xx",
                          "pm.test(\"[POST]::/refunds - Status code is 4xx\", function () {",
                          "  pm.response.to.be.error;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/refunds - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set refund_id as variable for jsonData.payment_id",
                          "if (jsonData?.refund_id) {",
                          "  pm.collectionVariables.set(\"refund_id\", jsonData.refund_id);",
                          "  console.log(",
                          "    \"- use {{refund_id}} as collection variable for value\",",
                          "    jsonData.refund_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{refund_id}}, as jsonData.refund_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"error\"",
                          "pm.test(",
                          "  \"[POST]::/payments/:id/confirm - Content check if 'error' exists\",",
                          "  function () {",
                          "    pm.expect(typeof jsonData.error !== \"undefined\").to.be.true;",
                          "  },",
                          ");",
                          "",
                          "// Response body should have value \"connector error\" for \"error type\"",
                          "if (jsonData?.error?.type) {",
                          "  pm.test(",
                          "    \"[POST]::/payments/:id/confirm - Content check if value for 'error.type' matches 'invalid_request'\",",
                          "    function () {",
                          "      pm.expect(jsonData.error.type).to.eql(\"invalid_request\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"payment_id\":\"{{payment_id}}\",\"amount\":7000,\"reason\":\"Customer returned product\",\"refund_type\":\"instant\",\"metadata\":{\"udf1\":\"value1\",\"new_customer\":\"true\",\"login_date\":\"2019-09-10T10:11:12Z\"}}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/refunds",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "refunds"
                      ]
                    },
                    "description": "To create a refund against an already processed payment"
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Scenario10-Create a mandate and recurring payment",
              "item": [
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          "",
                          "// Validate status 2xx",
                          "pm.test(\"[GET]::/payments/:id - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[GET]::/payments/:id - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[GET]::/payments/:id - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"mandate_id\"",
                          "if (jsonData?.mandate_id) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if 'mandate_id' exists\",",
                          "    function () {",
                          "      pm.expect(typeof jsonData.mandate_id !== \"undefined\").to.be.true;",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"mandate_data\"",
                          "if (jsonData?.mandate_data) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if 'mandate_data' exists\",",
                          "    function () {",
                          "      pm.expect(typeof jsonData.mandate_data !== \"undefined\").to.be.true;",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          "pm.environment.set(\"random_number\", _.random(1000, 100000));",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": true,\n    \"capture_method\": \"automatic\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": {{random_number}},\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+65\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n    \"payment_method\": \"card\",\n    \"payment_method_data\": {\n        \"card\": {\n            \"card_number\": \"4111111111111111\",\n            \"card_exp_month\": \"10\",\n            \"card_exp_year\": \"25\",\n            \"card_holder_name\": \"joseph Doe\",\n            \"card_cvc\": \"123\"\n        }\n    },\n    \"setup_future_usage\": \"off_session\",\n    \"mandate_data\": {\n        \"customer_acceptance\": {\n            \"acceptance_type\": \"offline\",\n            \"accepted_at\": \"1963-05-03T04:07:52.723Z\",\n            \"online\": {\n                \"ip_address\": \"127.0.0.1\",\n                \"user_agent\": \"amet irure esse\"\n            }\n        },\n        \"mandate_type\": {\n            \"single_use\": {\n                \"amount\": 7000,\n                \"currency\": \"USD\"\n            }\n        }\n    },\n    \"billing\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[GET]::/payments/:id - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[GET]::/payments/:id - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[GET]::/payments/:id - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"mandate_id\"",
                          "if (jsonData?.mandate_id) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if 'mandate_id' exists\",",
                          "    function () {",
                          "      pm.expect(typeof jsonData.mandate_id !== \"undefined\").to.be.true;",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"mandate_data\"",
                          "if (jsonData?.mandate_data) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if 'mandate_data' exists\",",
                          "    function () {",
                          "      pm.expect(typeof jsonData.mandate_data !== \"undefined\").to.be.true;",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                },
                {
                  "name": "Recurring Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx or 4xx",
                          "pm.test(\"[POST]::/payments/:id/capture - Status code is 2xx\", function () {",
                          "  pm.expect(pm.response.code).to.be.oneOf([200, 400]);",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"mandate_id\"",
                          "if (jsonData?.mandate_id) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if 'mandate_id' exists\",",
                          "    function () {",
                          "      pm.expect(typeof jsonData.mandate_id !== \"undefined\").to.be.true;",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"mandate_data\"",
                          "if (jsonData?.mandate_data) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if 'mandate_data' exists\",",
                          "    function () {",
                          "      pm.expect(typeof jsonData.mandate_data !== \"undefined\").to.be.true;",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"payment_method_data\"",
                          "if (jsonData?.payment_method_data) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if 'payment_method_data' exists\",",
                          "    function () {",
                          "      pm.expect(typeof jsonData.payment_method_data !== \"undefined\").to.be.true;",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"connector error\" for \"error type\"",
                          "if (jsonData?.error?.type) {",
                          "  pm.test(",
                          "    \"[POST]::/payments/:id/confirm - Content check if value for 'error.type' matches 'invalid_request'\",",
                          "    function () {",
                          "      pm.expect(jsonData.error.type).to.eql(\"invalid_request\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    },
                    {
                      "listen": "prerequest",
                      "script": {
                        "exec": [
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "raw": "{\n    \"amount\": {{random_number}},\n    \"currency\": \"USD\",\n    \"confirm\": true,\n    \"capture_method\": \"automatic\",\n    \"capture_on\": \"2022-09-10T10:11:12Z\",\n    \"amount_to_capture\": 6540,\n    \"customer_id\": \"StripeCustomer\",\n    \"email\": \"guest@example.com\",\n    \"name\": \"John Doe\",\n    \"phone\": \"999999999\",\n    \"phone_country_code\": \"+65\",\n    \"description\": \"Its my first payment request\",\n    \"authentication_type\": \"no_three_ds\",\n    \"return_url\": \"https://duck.com\",\n    \"mandate_id\" : \"{{mandate_id}}\",\n    \"off_session\" : true,\n     \"shipping\": {\n        \"address\": {\n            \"line1\": \"1467\",\n            \"line2\": \"Harrison Street\",\n            \"line3\": \"Harrison Street\",\n            \"city\": \"San Fransico\",\n            \"state\": \"California\",\n            \"zip\": \"94122\",\n            \"country\": \"US\",\n            \"first_name\": \"PiX\"\n        }\n    },\n    \"statement_descriptor_name\": \"joseph\",\n    \"statement_descriptor_suffix\": \"JS\",\n    \"metadata\": {\n        \"udf1\": \"value1\",\n        \"new_customer\": \"true\",\n        \"login_date\": \"2019-09-10T10:11:12Z\"\n    }\n}",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      }
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve-copy",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[GET]::/payments/:id - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[GET]::/payments/:id - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[GET]::/payments/:id - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"mandate_id\"",
                          "if (jsonData?.mandate_id) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if 'mandate_id' exists\",",
                          "    function () {",
                          "      pm.expect(typeof jsonData.mandate_id !== \"undefined\").to.be.true;",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"mandate_data\"",
                          "if (jsonData?.mandate_data) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if 'mandate_data' exists\",",
                          "    function () {",
                          "      pm.expect(typeof jsonData.mandate_data !== \"undefined\").to.be.true;",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                }
              ]
            },
            {
              "name": "Scenario11-Create a recurring payment with greater mandate amount",
              "item": [
                {
                  "name": "Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[GET]::/payments/:id - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[GET]::/payments/:id - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[GET]::/payments/:id - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"mandate_id\"",
                          "if (jsonData?.mandate_id) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if 'mandate_id' exists\",",
                          "    function () {",
                          "      pm.expect(typeof jsonData.mandate_id !== \"undefined\").to.be.true;",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"mandate_data\"",
                          "if (jsonData?.mandate_data) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if 'mandate_data' exists\",",
                          "    function () {",
                          "      pm.expect(typeof jsonData.mandate_data !== \"undefined\").to.be.true;",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"amount\":6540,\"currency\":\"USD\",\"confirm\":true,\"capture_method\":\"automatic\",\"capture_on\":\"2022-09-10T10:11:12Z\",\"amount_to_capture\":6540,\"customer_id\":\"StripeCustomer\",\"email\":\"guest@example.com\",\"name\":\"John Doe\",\"phone\":\"999999999\",\"phone_country_code\":\"+65\",\"description\":\"Its my first payment request\",\"authentication_type\":\"no_three_ds\",\"return_url\":\"https://duck.com\",\"payment_method\":\"card\",\"payment_method_data\":{\"card\":{\"card_number\":\"4111111111111111\",\"card_exp_month\":\"10\",\"card_exp_year\":\"25\",\"card_holder_name\":\"joseph Doe\",\"card_cvc\":\"123\"}},\"setup_future_usage\":\"off_session\",\"mandate_data\":{\"customer_acceptance\":{\"acceptance_type\":\"offline\",\"accepted_at\":\"1963-05-03T04:07:52.723Z\",\"online\":{\"ip_address\":\"127.0.0.1\",\"user_agent\":\"amet irure esse\"}},\"mandate_type\":{\"single_use\":{\"amount\":7000,\"currency\":\"USD\"}}},\"billing\":{\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\",\"first_name\":\"PiX\"}},\"shipping\":{\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\",\"first_name\":\"PiX\"}},\"statement_descriptor_name\":\"joseph\",\"statement_descriptor_suffix\":\"JS\",\"metadata\":{\"udf1\":\"value1\",\"new_customer\":\"true\",\"login_date\":\"2019-09-10T10:11:12Z\"}}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                },
                {
                  "name": "Payments - Retrieve",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 2xx",
                          "pm.test(\"[GET]::/payments/:id - Status code is 2xx\", function () {",
                          "  pm.response.to.be.success;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[GET]::/payments/:id - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[GET]::/payments/:id - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have value \"processing\" or \"failed\" for \"status\"",
                          "if (jsonData?.status) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if value for 'status' matches 'processing' or 'failed' \",",
                          "    function () {",
                          "      pm.expect(jsonData.status).to.be.oneOf([\"processing\", \"failed\"]);",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"mandate_id\"",
                          "if (jsonData?.mandate_id) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if 'mandate_id' exists\",",
                          "    function () {",
                          "      pm.expect(typeof jsonData.mandate_id !== \"undefined\").to.be.true;",
                          "    },",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"mandate_data\"",
                          "if (jsonData?.mandate_data) {",
                          "  pm.test(",
                          "    \"[POST]::/payments - Content check if 'mandate_data' exists\",",
                          "    function () {",
                          "      pm.expect(typeof jsonData.mandate_data !== \"undefined\").to.be.true;",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "GET",
                    "header": [
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "url": {
                      "raw": "{{baseUrl}}/payments/:id?force_sync=true",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments",
                        ":id"
                      ],
                      "query": [
                        {
                          "key": "force_sync",
                          "value": "true"
                        }
                      ],
                      "variable": [
                        {
                          "key": "id",
                          "value": "{{payment_id}}",
                          "description": "(Required) unique payment id"
                        }
                      ]
                    },
                    "description": "To retrieve the properties of a Payment. This may be used to get the status of a previously initiated payment or next action for an ongoing payment"
                  },
                  "response": []
                },
                {
                  "name": "Recurring Payments - Create",
                  "event": [
                    {
                      "listen": "test",
                      "script": {
                        "exec": [
                          "// Validate status 4xx",
                          "pm.test(\"[POST]::/payments - Status code is 4xx\", function () {",
                          "  pm.response.to.be.error;",
                          "});",
                          "",
                          "// Validate if response header has matching content-type",
                          "pm.test(\"[POST]::/payments - Content-Type is application/json\", function () {",
                          "  pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(",
                          "    \"application/json\",",
                          "  );",
                          "});",
                          "",
                          "// Validate if response has JSON Body",
                          "pm.test(\"[POST]::/payments - Response has JSON Body\", function () {",
                          "  pm.response.to.have.jsonBody();",
                          "});",
                          "",
                          "// Set response object as internal variable",
                          "let jsonData = {};",
                          "try {",
                          "  jsonData = pm.response.json();",
                          "} catch (e) {}",
                          "",
                          "// pm.collectionVariables - Set payment_id as variable for jsonData.payment_id",
                          "if (jsonData?.payment_id) {",
                          "  pm.collectionVariables.set(\"payment_id\", jsonData.payment_id);",
                          "  console.log(",
                          "    \"- use {{payment_id}} as collection variable for value\",",
                          "    jsonData.payment_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{payment_id}}, as jsonData.payment_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set mandate_id as variable for jsonData.mandate_id",
                          "if (jsonData?.mandate_id) {",
                          "  pm.collectionVariables.set(\"mandate_id\", jsonData.mandate_id);",
                          "  console.log(",
                          "    \"- use {{mandate_id}} as collection variable for value\",",
                          "    jsonData.mandate_id,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{mandate_id}}, as jsonData.mandate_id is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// pm.collectionVariables - Set client_secret as variable for jsonData.client_secret",
                          "if (jsonData?.client_secret) {",
                          "  pm.collectionVariables.set(\"client_secret\", jsonData.client_secret);",
                          "  console.log(",
                          "    \"- use {{client_secret}} as collection variable for value\",",
                          "    jsonData.client_secret,",
                          "  );",
                          "} else {",
                          "  console.log(",
                          "    \"INFO - Unable to assign variable {{client_secret}}, as jsonData.client_secret is undefined.\",",
                          "  );",
                          "}",
                          "",
                          "// Response body should have \"error\"",
                          "pm.test(",
                          "  \"[POST]::/payments/:id/confirm - Content check if 'error' exists\",",
                          "  function () {",
                          "    pm.expect(typeof jsonData.error !== \"undefined\").to.be.true;",
                          "  },",
                          ");",
                          "",
                          "// Response body should have value \"invalid_request\" for \"error type\"",
                          "if (jsonData?.error?.type) {",
                          "  pm.test(",
                          "    \"[POST]::/payments/:id/confirm - Content check if value for 'error.type' matches 'invalid_request'\",",
                          "    function () {",
                          "      pm.expect(jsonData.error.type).to.eql(\"invalid_request\");",
                          "    },",
                          "  );",
                          "}",
                          ""
                        ],
                        "type": "text/javascript"
                      }
                    }
                  ],
                  "request": {
                    "method": "POST",
                    "header": [
                      {
                        "key": "Content-Type",
                        "value": "application/json"
                      },
                      {
                        "key": "Accept",
                        "value": "application/json"
                      }
                    ],
                    "body": {
                      "mode": "raw",
                      "options": {
                        "raw": {
                          "language": "json"
                        }
                      },
                      "raw": "{\"amount\":8040,\"currency\":\"USD\",\"confirm\":true,\"capture_method\":\"automatic\",\"capture_on\":\"2022-09-10T10:11:12Z\",\"amount_to_capture\":6540,\"customer_id\":\"StripeCustomer\",\"email\":\"guest@example.com\",\"name\":\"John Doe\",\"phone\":\"999999999\",\"phone_country_code\":\"+65\",\"description\":\"Its my first payment request\",\"authentication_type\":\"no_three_ds\",\"return_url\":\"https://duck.com\",\"mandate_id\":\"{{mandate_id}}\",\"off_session\":true,\"billing\":{\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\",\"first_name\":\"PiX\"}},\"shipping\":{\"address\":{\"line1\":\"1467\",\"line2\":\"Harrison Street\",\"line3\":\"Harrison Street\",\"city\":\"San Fransico\",\"state\":\"California\",\"zip\":\"94122\",\"country\":\"US\",\"first_name\":\"PiX\"}},\"statement_descriptor_name\":\"joseph\",\"statement_descriptor_suffix\":\"JS\",\"metadata\":{\"udf1\":\"value1\",\"new_customer\":\"true\",\"login_date\":\"2019-09-10T10:11:12Z\"}}"
                    },
                    "url": {
                      "raw": "{{baseUrl}}/payments",
                      "host": [
                        "{{baseUrl}}"
                      ],
                      "path": [
                        "payments"
                      ]
                    },
                    "description": "To process a payment you will have to create a payment, attach a payment method and confirm. Depending on the user journey you wish to achieve, you may opt to all the steps in a single request or in a sequence of API request using following APIs: (i) Payments - Update, (ii) Payments - Confirm, and (iii) Payments - Capture"
                  },
                  "response": []
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "auth": {
    "type": "apikey",
    "apikey": [
      {
        "key": "value",
        "value": "{{api_key}}",
        "type": "string"
      },
      {
        "key": "key",
        "value": "api-key",
        "type": "string"
      },
      {
        "key": "in",
        "value": "header",
        "type": "string"
      }
    ]
  },
  "info": {
    "_postman_id": "578286c8-3066-4cc5-8b6b-6ee563c4eee3",
    "name": "authorizedotnet",
    "description": "## Get started\n\nJuspay Router provides a collection of APIs that enable you to process and manage payments. Our APIs accept and return JSON in the HTTP body, and return standard HTTP response codes.  \nYou can consume the APIs directly using your favorite HTTP/REST library.  \nWe have a testing environment referred to \"sandbox\", which you can setup to test API calls without affecting production data.\n\n### Base URLs\n\nUse the following base URLs when making requests to the APIs:\n\n| Environment | Base URL |\n| --- | --- |\n| Sandbox | [https://sandbox.hyperswitch.io](https://sandbox.hyperswitch.io) |\n| Production | [https://router.juspay.io](https://router.juspay.io) |\n\n# Authentication\n\nWhen you sign up for an account, you are given a secret key (also referred as api-key). You may authenticate all API requests with Juspay server by providing the appropriate key in the request Authorization header.  \nNever share your secret api keys. Keep them guarded and secure.\n\nContact Support:  \nName: Juspay Support  \nEmail: [support@juspay.in](mailto:support@juspay.in)",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "25737662"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "https://sandbox.hyperswitch.io",
      "type": "string"
    },
    {
      "key": "admin_api_key",
      "value": "",
      "type": "string"
    },
    {
      "key": "api_key",
      "value": "",
      "type": "string"
    },
    {
      "key": "merchant_id",
      "value": ""
    },
    {
      "key": "payment_id",
      "value": ""
    },
    {
      "key": "customer_id",
      "value": ""
    },
    {
      "key": "mandate_id",
      "value": ""
    },
    {
      "key": "payment_method_id",
      "value": ""
    },
    {
      "key": "refund_id",
      "value": ""
    },
    {
      "key": "merchant_connector_id",
      "value": ""
    },
    {
      "key": "client_secret",
      "value": "",
      "type": "string"
    },
    {
      "key": "connector_api_key",
      "value": "",
      "type": "string"
    },
    {
      "key": "publishable_key",
      "value": "",
      "type": "string"
    },
    {
      "key": "api_key_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "payment_token",
      "value": ""
    },
    {
      "key": "gateway_merchant_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "certificate",
      "value": "",
      "type": "string"
    },
    {
      "key": "certificate_keys",
      "value": "",
      "type": "string"
    },
    {
      "key": "connector_key1",
      "value": "",
      "type": "string"
    },
    {
      "key": "variable_key",
      "value": ""
    }
  ]
}
