# masking

Personal Identifiable Information protection.
Wrapper types and traits for secret management which help ensure they aren't accidentally copied, logged, or otherwise exposed (as much as possible), and also ensure secrets are securely wiped from memory when dropped.
Secret-keeping library inspired by `secrecy`.

## How to use

To convert non-secret variable into secret use `new()`. Sample:

```rust,ignore
expiry_year: ccard.map(|x| Secret::new(x.card_exp_year.to_string())),
// output: "expiry_year: *** alloc::string::String ***"
```

To get value from secret use `expose()`. Sample:

```rust,ignore
last4_digits: Some(card_number.expose())
```

Most fields are under `Option`. To simplify dealing with `Option`, use `expose_cloning()`. Sample:

```rust,ignore
    card_info.push_str(
        &card_detail
            .card_holder_name
            .expose_cloning()
            .unwrap_or_default(),
    );
```

<!-- ## Files Tree Layout -->

<!-- FIXME: this table should either be generated by a script or smoke test should be introduced checking it agrees with actual structure -->
<!-- FIXME: fill missing -->

<!-- ```text

├── src                        : source code
│   ├── bachstd                : utilities
└── tests                      : unit and integration tests

``` -->

<!--
command to generate the tree `tree -L 3 -d`
-->
